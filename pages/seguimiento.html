<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Packing flex - Seguimiento de Envíos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
</head>
<body>
<header class="bg-dark text-white py-3">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark container">
        <a class="navbar-brand h1 mb-0" href="../index.html">
            <img src="/assets/images/logo.png" alt="Logo de Packing flex" class="navbar-logo">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link" href="../index.html"><i class="fas fa-home"></i> Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="servicios.html">Servicios</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="cotizar.html">Cotizar envío</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="seguimiento.html">Seguimiento</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="contacto.html">Contacto</a>
                </li>
            </ul>
        </div>
    </nav>
</header>
    <main>
        <section class="form-container" data-aos="zoom-in" data-aos-duration="800">
            <h2>Seguimiento de tu envío</h2>
            <form id="form-seguimiento">
                <div class="form-group">
                    <label for="codigo-envio">Ingresá el código de envío (4 dígitos):</label>
                    <input type="text" id="codigo-envio" name="codigo-envio" pattern="\d{4}" maxlength="4" required placeholder="Ej: 1234">
                </div>
                <button type="submit">Ver ubicación</button>
            </form>
            <div id="map"></div>
        </section>
    </main>

    <footer class="bg-dark text-white text-center py-4 mt-5">
        <div class="container">
            <h3>Contacto</h3>
            <p>Teléfono: +54 11 1234-5678</p>
            <p>Email: contacto@packingflex.com.ar</p>
            <p>Dirección: Av. Logística 123, Buenos Aires</p>
        </div>
    </footer>
    
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
    AOS.init({
        duration: 1000,
        once: true
    });
    </script>

    <script>
        const envioUbicaciones = {
            '1234': { lat: -34.6037, lng: -58.3816 }, // Buenos Aires
            '5678': { lat: -31.4201, lng: -64.1888 }, // Córdoba
            '9012': { lat: -32.8895, lng: -68.8458 }, // Mendoza
            '3456': { lat: -38.4161, lng: -63.6167 }  // Patagonia
        };

        const formSeguimiento = document.getElementById('form-seguimiento');
        const mapDiv = document.getElementById('map');
        let map;
        let marker;

        function initMap() {
            map = new google.maps.Map(mapDiv, {
                center: { lat: -34.6037, lng: -58.3816 },
                zoom: 5,
            });
        }

        formSeguimiento.addEventListener('submit', function(event) {
            event.preventDefault();
            const codigo = document.getElementById('codigo-envio').value;

            if (envioUbicaciones[codigo]) {
                const loc = envioUbicaciones[codigo];
                map.setCenter(loc);
                map.setZoom(12);

                if (marker) {
                    marker.setPosition(loc);
                } else {
                    marker = new google.maps.Marker({
                        position: loc,
                        map: map,
                        title: `Envío ${codigo}`
                    });
                }
            } else {
                alert('Código no encontrado. Por favor, verificá el código ingresado.');
            }
        });

        window.initMap = initMap;
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBvEP-Wla8hO_Hn3oX9q6oBU_e_1vGjAx0&callback=initMap"></script> </body>
</html>